{"version":3,"sources":["components/Sections/TrainingSeries/DashTSComponents/TrainingSeriesSubViewStyles.js","components/Sections/TrainingSeries/DashTSComponents/TrainingSeriesSubView.js"],"names":["MessageContainer","styled","div","_templateObject","TrainingSeriesList","React","lazy","__webpack_require__","e","then","bind","TrainingSeriesSubView","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","openSearch","preventDefault","setState","searchOpen","state","handleChange","limit","parseInt","target","value","routeToCreateTrainingSeries","disableSnackbar","history","push","searchedTrainingSeries","series","Fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","search","searchInput","offset","trainingSeries","trainingSeriesDisplay","_this2","classes","length","react_default","a","createElement","react","fallback","deleteTrainingSeries","match","userId","index_es","data-tour","className","root","elevation","columnHeader","variant","icons","size","aria-label","fab","onClick","id","type","textField","onChange","margin","InputProps","startAdornment","position","class","footer","lib_default","total","centerRipple","handleClick","Component","withStyles","theme","objectSpread","mixins","gutters","paddingTop","spacing","unit","paddingBottom","display","flexDirection","maxWidth","boxSizing","width","minHeight","height","@media (max-width:768px)","marginBottom","justifyContent","alignItems","background","color","&:hover","top","pagination"],"mappings":"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","file":"static/js/8.8beced3c.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: \"500px\",\n    boxSizing: \"border-box\",\n    width: \"100%\",\n    minHeight: \"533px\",\n    height: \"100%\",\n    margin: 5,\n\n    \"@media (max-width:768px)\": {\n      width: \"92%\",\n      marginBottom: 10,\n      maxWidth: \"none\",\n      height: \"533px\"\n    }\n  },\n  columnHeader: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  icons: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  fab: {\n    margin: 5,\n    background: \"#451476\",\n    color: \"white\",\n    \"&:hover\": {\n      background: \"#591a99\"\n    }\n  },\n  footer: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    position: \"sticky\",\n    top: \"100%\"\n  },\n  textField: {\n    width: \"100%\"\n  },\n  pagination: { width: \"90%\" }\n});\n\nexport const MessageContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: lightgray;\n  height: 100%;\n  text-align: center;\n`;\n","import React, { Component, Suspense } from \"react\";\n\nimport Fuse from \"fuse.js\";\n\nimport { MessageContainer, styles } from \"./TrainingSeriesSubViewStyles.js\";\n//Components\n// import TrainingSeriesList from \"./TrainingSeriesList\";\n\n//Styles\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Paper,\n  Typography,\n  Fab,\n  TextField,\n  InputAdornment\n} from \"@material-ui/core/\";\nimport Pagination from \"material-ui-flat-pagination\";\n\nconst TrainingSeriesList = React.lazy(() => import(\"./TrainingSeriesList\"));\n\nclass TrainingSeriesSubView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      offset: 0,\n      limit: 5,\n      searchInput: \"\",\n      searchOpen: false\n    };\n  }\n\n  openSearch = e => {\n    e.preventDefault();\n    this.setState({ searchOpen: !this.state.searchOpen });\n  };\n  handleClick(offset) {\n    this.setState({ offset });\n  }\n  handleChange = e => {\n    this.setState({ limit: parseInt(e.target.value, 10) });\n  };\n\n  routeToCreateTrainingSeries = e => {\n    e.preventDefault();\n    this.props.disableSnackbar();\n    this.props.history.push(\"/home/create-training-series\");\n  };\n\n  // function to set fuse option and return a response\n  searchedTrainingSeries = series => {\n    var options = {\n      shouldSort: true,\n      threshold: 0.3,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 3,\n      keys: [\"title\"]\n    };\n\n    const fuse = new Fuse(series, options);\n    const res = fuse.search(this.state.searchInput);\n    return res;\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    const searchOn = this.state.searchInput.length > 0;\n\n    let trainingSeries;\n\n    // checks if the search field is active and there are results from the fuse search\n    if (\n      searchOn &&\n      this.searchedTrainingSeries(this.props.trainingSeries).length > 0\n    ) {\n      trainingSeries = this.searchedTrainingSeries(this.props.trainingSeries);\n    } else {\n      trainingSeries = this.props.trainingSeries;\n    }\n\n    let trainingSeriesDisplay;\n\n    if (this.props.trainingSeries.length === 0) {\n      trainingSeriesDisplay = (\n        <MessageContainer>\n          <p>You do not have any training series.</p>\n        </MessageContainer>\n      );\n    } else {\n      trainingSeriesDisplay = (\n        <Suspense fallback={<span />}>\n          <TrainingSeriesList\n            deleteTrainingSeries={this.props.deleteTrainingSeries}\n            trainingSeries={trainingSeries}\n            offset={this.state.offset}\n            match={this.props.match}\n            userId={this.props.userId}\n            limit={this.state.limit}\n          />\n        </Suspense>\n      );\n    }\n    return (\n      <Paper data-tour=\"4\" className={classes.root} elevation={2}>\n        <div className={classes.columnHeader}>\n          <Typography variant=\"h5\">Training Series</Typography>\n          <div className={classes.icons}>\n            <Fab\n              size=\"small\"\n              aria-label=\"Add\"\n              className={classes.fab}\n              onClick={e => this.openSearch(e)}\n            >\n              <i className=\"material-icons\">search</i>\n            </Fab>\n\n            <Fab\n              size=\"small\"\n              aria-label=\"Add\"\n              className={classes.fab}\n              onClick={e => this.routeToCreateTrainingSeries(e)}\n            >\n              <i className=\"material-icons\">add</i>\n            </Fab>\n          </div>\n        </div>\n        <div>\n          {this.state.searchOpen && (\n            <TextField\n              id=\"standard-search\"\n              type=\"search\"\n              className={classes.textField}\n              onChange={e => this.setState({ searchInput: e.target.value })}\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <i class=\"material-icons\">search</i>\n                  </InputAdornment>\n                )\n              }}\n            />\n          )}\n        </div>\n        {trainingSeriesDisplay}\n        <div className={classes.footer}>\n          <Pagination\n            limit={this.state.limit}\n            offset={this.state.offset}\n            total={trainingSeries.length}\n            centerRipple={true}\n            onClick={(e, offset) => this.handleClick(offset)}\n          />\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(TrainingSeriesSubView);\n"],"sourceRoot":""}